package net.nitroservices.rezan.mlforandroidmalwaredetection;

import android.content.Intent;
import android.database.Cursor;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.util.Log;

import java.util.ArrayList;


public class MainActivity extends AppCompatActivity {


    public static DBHelper dbHelper;


    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_installed_apps_stats);



        WekaML wekaML = new WekaML();
        try {

            wekaML.doMLWork(this, "breast-cancer.arff");

        } catch (Exception e) {

            Log.i("doMLWork: ", "Info");
            e.printStackTrace();
        }


        dbHelper = new DBHelper(this);


        ArrayList arrayList = dbHelper.getData("SELECT * FROM net_usage");



        /*
        // Sample Test Entries to set inserting into the Database

        // AppName, Package Name, Received Bytes, Sent Bytes, Received Packet Count, Sent Packet Count
        dbHelper.insertNetUsageEntry(
                "ML for Android Malware Detection",
                "net.nitroservices.rezan.mlforandroidmalwaredetection",
                "2323422",
                "3232131",
                "34",
                "43");

        dbHelper.insertNetUsageEntry(
                "ML for Android Malware Detection",
                "net.nitroservices.rezan.mlforandroidmalwaredetection",
                "233422",
                "2222131",
                "22",
                "13");






        // AppName, Package Name, Source IP Address, Source Port Number, Destination IP Address, Destination Port Number
        dbHelper.insertPacketEntry(
                "ML for Android Malware Detection",
                "net.nitroservices.rezan.mlforandroidmalwaredetection",
                "24.45.4.89", "4345",
                "34.45.3.34", "2444"
        );

        dbHelper.insertPacketEntry(
                "ML for Android Malware Detection",
                "net.nitroservices.rezan.mlforandroidmalwaredetection",
                "24.22.2.89", "2245",
                "34.45.3.34", "2224"
        );

        ArrayList netUsageArrayList = dbHelper.getAllNetUsageEntries();
        ArrayList packetArrayList = dbHelper.getAllPacketEntries();


        for (Object item : netUsageArrayList) {
            Log.i("TESTING DB netUsage", "TESTING DB netUsage" + item);
        }

        for (Object item : packetArrayList) {
            Log.i("TESTING DB packet", "TESTING DB packet" + item);
        }
        */


        // Used for testing SQLite Datebase entries
        // startActivity(new Intent(this, AndroidDatabaseManager.class));

        startActivity(new Intent(this, InstalledAppsStatsActivity.class));

        // startActivity(new Intent(this, AppUsageStatisticsActivity.class));


    }
}
