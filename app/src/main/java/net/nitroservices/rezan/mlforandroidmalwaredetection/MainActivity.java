package net.nitroservices.rezan.mlforandroidmalwaredetection;

import android.content.Intent;
import android.os.Bundle;
import android.support.v7.app.AppCompatActivity;
import android.util.Log;

import weka.classifiers.trees.J48;
import weka.core.Instances;
import weka.core.converters.ConverterUtils;

public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);


        try {

            ConverterUtils.DataSource source = new ConverterUtils.DataSource("data.arff");
            Instances data = source.getDataSet();

            // setting class attribute if the data format does not provide this information
            // For example, the XRFF format saves the class attribute information as well
            if (data.classIndex() == -1) {
                data.setClassIndex(data.numAttributes() - 1);
            }


            String[] options = new String[1];
            options[0] = "-U";              // unpruned tree
            J48 tree = new J48();           // new instance of tree
            tree.setOptions(options);       // set the options
            tree.buildClassifier(data);     // build classifier


        } catch (Exception e) {
            Log.i("Failed", "Here!");
            e.printStackTrace();
        }


        Intent installedAppActivity = new Intent(MainActivity.this, InstalledAppsActivity.class);
        startActivity(installedAppActivity);

    }
}
